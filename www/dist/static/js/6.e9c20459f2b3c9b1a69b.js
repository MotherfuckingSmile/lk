webpackJsonp([6],{rMSZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),s=n.n(a),i=n("exGp"),r=n.n(i),o=n("Dd8w"),c=n.n(o),l=n("yKuP"),u=n.n(l),p=n("NYxO"),m={middleware:"auth",data:function(){return{form:new u.a({email:"",phones:[]})}},computed:c()({},Object(p.b)({contacts:"billing/contacts"})),created:function(){var t=this;return r()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.refresh(),e.next=3,t.$store.dispatch("meta/setTitle","Контактные данные");case 3:return e.next=5,t.$store.dispatch("meta/setLink","cabinet.account");case 5:case"end":return e.stop()}},e,t)}))()},methods:{refresh:function(){var t=this;return r()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("billing/fetchContacts");case 2:t.form.email=t.contacts.email,t.form.phones=t.contacts.phones;case 4:case"end":return e.stop()}},e,t)}))()},addPhone:function(){""!==this.form.phones[this.form.phones.length-1].value&&this.form.phones.push({id:this.form.phones[this.form.phones.length],value:""})},save:function(){var t=this;return r()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.form.patch("/cabinet/contacts/update");case 2:t.refresh();case 3:case"end":return e.stop()}},e,t)}))()}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-content"},[n("div",{staticClass:"item item-divider text-center"},[t._v("Редактировать данные")]),t._v(" "),n("form",{on:{submit:function(t){t.preventDefault()},keydown:function(e){t.form.onKeydown(e)}}},[n("div",{staticClass:"von-input-wrapper"},[n("label",{staticClass:"item item-borderless item-input von-input"},[n("div",{staticClass:"hairline-top"}),t._v(" "),n("span",{staticClass:"input-label"},[t._v("E-mail:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text",placeholder:"Введите E-mail"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),n("div",{staticClass:"hairline-bottom"})]),t._v(" "),n("span",{staticClass:"input-clear"})]),t._v(" "),t._l(t.form.phones,function(e){return n("div",{key:e.id,staticClass:"von-input-wrapper"},[n("label",{staticClass:"item item-borderless item-input von-input"},[n("div",{staticClass:"hairline-top"}),t._v(" "),n("span",{staticClass:"input-label"},[t._v("Телефон:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"phone.value"}],attrs:{type:"tel",minlength:"11",maxlength:"14",placeholder:"Введите телефон"},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}),t._v(" "),n("div",{staticClass:"hairline-bottom"})]),t._v(" "),n("span",{staticClass:"input-clear"})])}),t._v(" "),n("button",{staticClass:"button button-positive button-full",on:{click:t.addPhone}},[t._v("Добавить телефон")]),t._v(" "),n("button",{staticClass:"button button-positive button-full",attrs:{type:"submit"},on:{click:t.save}},[t._v("Сохранить")])],2)])},staticRenderFns:[]},d=n("VU/8")(m,v,!1,null,null,null);e.default=d.exports}});